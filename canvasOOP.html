<!DOCTYPE html>
<html>
<meta charset="utf8">
<head>
  <title>hello</title>

  <style>
    body {
        margin: 40px;
        background: #666;
        border: #000 1px solid;
    }
    #my_canvas {
        background: #FFF;
        border: #000 1px solid;
    }
  </style>
  
  <script type="text/javascript">
      function initCanvas() {
      var ctx = document.getElementById('my_canvas').getContext('2d');
      var cW = ctx.canvas.width;
      var cH = ctx.canvas.height;
      
      function rectObj(x,y) {
        this.x = x, this.y = y;
        this.render = function(ctx,rx,ry,rw,rh,clr) {
          ctx.fillStyle = clr;
          ctx.fillRect(rx,ry,rw,rh);
        }
      }
      
      var x = 0, y = 0;
      var rect1 = new rectObj(0,0);
      var rect2 = new rectObj(0,100);
      function animate() {
        ctx.save();
        ctx.clearRect(0,0,cW,cH);
        
        rect1.render(ctx,rect1.x,rect1.y,50,50,'magenta');
        rect2.render(ctx,rect2.x*2,rect2.y,50,50,'blue');
        rect1.x++; rect2.x++;

        
        ctx.restore();
      }
      var animateInterval = setInterval(animate,30);
      ctx.canvas.addEventListener('click', function(event){
        clearInterval(animateInterval);
        });
    }
    
    window.addEventListener('load', function(event) {
      initCanvas();
      });
  </script>
  
</head>


<body>
    
<canvas id="my_canvas" width="500" height="350"></canvas>
                                                      
</body>

</html>


